!function(e,t,r){function a(e){var t={},a=/^jQuery\d+$/;return r.each(e.attributes,function(e,r){r.specified&&!a.test(r.name)&&(t[r.name]=r.value)}),t}function i(e,t){var a=this,i=r(a);if(a.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){if(i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id")),e===!0)return i[0].value=t;i.focus()}else a.value="",i.removeClass("placeholder"),a==o()&&a.select()}function n(){var e,t=this,n=r(t),o=this.id;if(""==t.value){if("password"==t.type){if(!n.data("placeholder-textinput")){try{e=n.clone().attr({type:"text"})}catch(d){e=r("<input>").attr(r.extend(a(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":n,"placeholder-id":o}).bind("focus.placeholder",i),n.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}n=n.removeAttr("id").hide().prev().attr("id",o).show()}n.addClass("placeholder"),n[0].value=n.attr("placeholder")}else n.removeClass("placeholder")}function o(){try{return t.activeElement}catch(e){}}var d,s,l="[object OperaMini]"==Object.prototype.toString.call(e.operamini),h="placeholder"in t.createElement("input")&&!l,u="placeholder"in t.createElement("textarea")&&!l,c=r.fn,p=r.valHooks,b=r.propHooks;h&&u?(s=c.placeholder=function(){return this},s.input=s.textarea=!0):(s=c.placeholder=function(){var e=this;return e.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":n}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},s.input=h,s.textarea=u,d={get:function(e){var t=r(e),a=t.data("placeholder-password");return a?a[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var a=r(e),d=a.data("placeholder-password");return d?d[0].value=t:a.data("placeholder-enabled")?(""==t?(e.value=t,e!=o()&&n.call(e)):a.hasClass("placeholder")?i.call(e,!0,t)||(e.value=t):e.value=t,a):e.value=t}},h||(p.input=d,b.value=d),u||(p.textarea=d,b.value=d),r(function(){r(t).delegate("form","submit.placeholder",function(){var e=r(".placeholder",this).each(i);setTimeout(function(){e.each(n)},10)})}),r(e).bind("beforeunload.placeholder",function(){r(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e){"use strict";var t={MAX_BORDER_RADIUS:20,MAX_BORDER_WIDTH:10,$borderRadius:e("#js-border-radius"),$borderWidth:e("#js-border-width"),$btnText:e("#js-btn-text"),$resultBtn:e("#js-result-btn"),$form:e("#js-form"),$outputHTML:e("#js-output-html"),$outputCSS:e("#js-output-css"),$outputEmail:e("#js-email"),br:0,bw:0,init:function(){e(this.$borderRadius).empty().slider({range:"min",value:30}),e(this.$borderWidth).empty().slider({range:"min",value:20}),this.$borderRadius.trigger("slidechange"),this.$borderWidth.trigger("slidechange"),this.$btnText.trigger("keyup"),e("input, textarea").placeholder(),this.setUpListeners(),this.$borderRadius.trigger("slidechange"),this.$borderWidth.trigger("slidechange"),this.$btnText.trigger("change")},setUpListeners:function(){this.$form.on("submit",e.proxy(this.submitForm,this)),this.$borderRadius.on("slidechange",e.proxy(this.changeBorderRadius,this)),this.$borderWidth.on("slidechange",e.proxy(this.changeBorderWidth,this)),this.$btnText.on("change keyup input",e.proxy(this.changeButtonText,this))},submitForm:function(t){var r=this.$form.find('button[type="submit"]'),a=this.$form.serialize();return t.preventDefault(),this.$outputEmail.val().trim()?(r.attr("disabled"),void e.ajax({url:"php/sendmail.php",type:"POST",data:a}).done(function(e){console.log(e)}).fail(function(e){console.log(e)}).always(function(){r.removeAttr("disabled")})):void alert("Введите почту.")},changeBorderRadius:function(e){this.br=this.$borderRadius.find(":first-child").width()/this.$borderRadius.width()*this.MAX_BORDER_RADIUS^0,e.preventDefault(),this.$resultBtn.css("border-radius",this.br+"px"),this.generateCSS()},changeBorderWidth:function(e){this.bw=this.$borderWidth.find(":first-child").width()/this.$borderWidth.width()*this.MAX_BORDER_WIDTH^0,e.preventDefault(),this.$resultBtn.css("border-width",this.bw+"px"),this.generateCSS()},changeButtonText:function(e){e.preventDefault(),this.$resultBtn.text(this.$btnText.val()),this.generateHTML()},generateHTML:function(){this.$outputHTML.text('<button type="button" class="btn">\n	'+this.$btnText.val()+"\n</button>")},generateCSS:function(){this.$outputCSS.text(".btn {\n	color: #fff;\n	background-color: #37a1e4;\n	background-image: -webkit-linear-gradient(top, #77bfed, #4baae6);\n	background-image: linear-gradient(to bottom, #77bfed, #4baae6);\n	border: "+this.bw+"px solid #3181b4;\n	border-radius: "+this.br+"px;\n	box-shadow: 0 1px 2px #999,\n		inset 0 1px 2px #fff;\n	display: block;\n	font-size: .875em;\n	font-weight: bold;\n	padding: 12px 27px;\n	text-shadow: 0 0px 1px #333;\n}\n.btn:hover {\n	box-shadow: 0 1px 3px #333,\n		inset 0 1px 2px #fff;\n}\n.btn:active {\n	box-shadow: 0 1px 2px #fff,\n	inset 0 1px 2px #999;\n	background-image: -webkit-linear-gradient(bottom, #77bfed, #4baae6);\n	background-image: linear-gradient(to top, #77bfed, #4baae6);\n}")}};t.init()}(jQuery);