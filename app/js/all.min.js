!function(t,e,r){function i(t){var e={},i=/^jQuery\d+$/;return r.each(t.attributes,function(t,r){r.specified&&!i.test(r.name)&&(e[r.name]=r.value)}),e}function a(t,e){var i=this,a=r(i);if(i.value==a.attr("placeholder")&&a.hasClass("placeholder"))if(a.data("placeholder-password")){if(a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id")),t===!0)return a[0].value=e;a.focus()}else i.value="",a.removeClass("placeholder"),i==s()&&i.select()}function n(){var t,e=this,n=r(e),s=this.id;if(""==e.value){if("password"==e.type){if(!n.data("placeholder-textinput")){try{t=n.clone().attr({type:"text"})}catch(o){t=r("<input>").attr(r.extend(i(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":n,"placeholder-id":s}).bind("focus.placeholder",a),n.data({"placeholder-textinput":t,"placeholder-id":s}).before(t)}n=n.removeAttr("id").hide().prev().attr("id",s).show()}n.addClass("placeholder"),n[0].value=n.attr("placeholder")}else n.removeClass("placeholder")}function s(){try{return e.activeElement}catch(t){}}var o,d,h="[object OperaMini]"==Object.prototype.toString.call(t.operamini),l="placeholder"in e.createElement("input")&&!h,u="placeholder"in e.createElement("textarea")&&!h,p=r.fn,c=r.valHooks,b=r.propHooks;l&&u?(d=p.placeholder=function(){return this},d.input=d.textarea=!0):(d=p.placeholder=function(){var t=this;return t.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":a,"blur.placeholder":n}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},d.input=l,d.textarea=u,o={get:function(t){var e=r(t),i=e.data("placeholder-password");return i?i[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var i=r(t),o=i.data("placeholder-password");return o?o[0].value=e:i.data("placeholder-enabled")?(""==e?(t.value=e,t!=s()&&n.call(t)):i.hasClass("placeholder")?a.call(t,!0,e)||(t.value=e):t.value=e,i):t.value=e}},l||(c.input=o,b.value=o),u||(c.textarea=o,b.value=o),r(function(){r(e).delegate("form","submit.placeholder",function(){var t=r(".placeholder",this).each(a);setTimeout(function(){t.each(n)},10)})}),r(t).bind("beforeunload.placeholder",function(){r(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t){"use strict";var e={MAX_BORDER_RADIUS:20,MAX_BORDER_WIDTH:10,$borderRadius:t(".js-border-radius"),$borderWidth:t(".js-border-width"),$btnText:t(".js-btn-text"),$resultBtn:t(".js-result-btn"),$form:t(".js-form"),$outputHTML:t(".js-output-html"),$outputCSS:t(".js-output-css"),$outputEmail:t(".js-email"),$outputMsg:t(".js-output-msg"),br:0,bw:0,init:function(){t(this.$borderRadius).empty().slider({range:"min",value:30}),t(this.$borderWidth).empty().slider({range:"min",value:20}),this.$borderRadius.trigger("slidechange"),this.$borderWidth.trigger("slidechange"),this.$btnText.trigger("keyup"),t("input, textarea").placeholder(),this.setUpListeners(),this.$borderRadius.trigger("slidechange"),this.$borderWidth.trigger("slidechange"),this.$btnText.trigger("change")},setUpListeners:function(){this.$form.on("submit",t.proxy(this.submitForm,this)),this.$borderRadius.on("slidechange",t.proxy(this.changeBorderRadius,this)),this.$borderWidth.on("slidechange",t.proxy(this.changeBorderWidth,this)),this.$btnText.on("change keyup input",t.proxy(this.changeButtonText,this)),this.$outputEmail.on("change keyup input",t.proxy(this.hideMsg,this))},submitForm:function(e){var r=this.$form.find('button[type="submit"]'),i=this.$form.serialize();return e.preventDefault(),this.hideMsg(),/.+@.+\..+/.test(this.$outputEmail.val())?(r.attr("disabled","disabled"),void t.ajax({url:"php/sendmail.php",type:"POST",context:this,data:i}).done(function(){this.showMsg("Сообщение отправлено.")}).fail(function(){this.showMsg("Возникла ошибка! Сообщение не было отправлено.",!0)}).always(function(){r.removeAttr("disabled")})):void this.showMsg("Адрес почты введён неверно.",!0)},changeBorderRadius:function(){this.br=this.$borderRadius.find(":first-child").width()/this.$borderRadius.width()*this.MAX_BORDER_RADIUS^0,this.$resultBtn.css("border-radius",this.br+"px"),this.generateCSS()},changeBorderWidth:function(){this.bw=this.$borderWidth.find(":first-child").width()/this.$borderWidth.width()*this.MAX_BORDER_WIDTH^0,this.$resultBtn.css("border-width",this.bw+"px"),this.generateCSS()},changeButtonText:function(){this.$resultBtn.text(this.$btnText.val()),this.generateHTML()},hideMsg:function(){this.$outputMsg.hide()},showMsg:function(t,e){e?this.$outputMsg.addClass("output__msg--error"):this.$outputMsg.removeClass("output__msg--error"),this.$outputMsg.text(t).show()},generateHTML:function(){this.$outputHTML.text('<button type="button" class="btn">\r\n	'+this.$btnText.val()+"\r\n</button>")},generateCSS:function(){this.$outputCSS.text(".btn {\r\n	color: #fff;\r\n	background-color: #37a1e4;\r\n	background-image: -webkit-linear-gradient(top, #77bfed, #4baae6);\r\n	background-image: linear-gradient(to bottom, #77bfed, #4baae6);\r\n	border: "+this.bw+"px solid #3181b4;\r\n	border-radius: "+this.br+"px;\r\n	box-shadow: 0 1px 2px #999,\r\n		inset 0 1px 2px #fff;\r\n	display: block;\r\n	font-size: .875em;\r\n	font-weight: bold;\r\n	padding: 12px 27px;\r\n	text-shadow: 0 0px 1px #333;\r\n}\r\n.btn:hover {\r\n	box-shadow: 0 1px 3px #333,\r\n		inset 0 1px 2px #fff;\r\n}\r\n.btn:active {\r\n	box-shadow: 0 1px 2px #fff,\r\n	inset 0 1px 2px #999;\r\n	background-image: -webkit-linear-gradient(bottom, #77bfed, #4baae6);\r\n	background-image: linear-gradient(to top, #77bfed, #4baae6);\r\n}")}};e.init()}(jQuery);